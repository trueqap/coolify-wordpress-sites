; PHP Settings - Trellis production 1:1
; Forr√°s: roles/php/defaults/main.yml

; Memory & Execution
memory_limit = 96M
max_execution_time = 120
max_input_time = 300
max_input_vars = 1000

; File uploads
upload_max_filesize = 25M
post_max_size = 25M

; OPcache (Trellis defaults)
opcache.enable = 1
opcache.enable_cli = 1
opcache.enable_file_override = 0
opcache.fast_shutdown = 1
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 4000
opcache.memory_consumption = 128
opcache.revalidate_freq = 60
opcache.validate_timestamps = 1
opcache.max_wasted_percentage = 5
opcache.huge_code_pages = 0
opcache.jit = tracing
opcache.jit_buffer_size = 256M

; Session
session.save_path = /tmp
session.cookie_httponly = On
session.cookie_secure = Off

; Security (Trellis production)
expose_php = Off
display_errors = Off
display_startup_errors = Off
log_errors = On
error_log = /proc/self/fd/2
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT

; Output buffering
output_buffering = Off

; Misc
date.timezone = UTC
mysqlnd.collect_memory_statistics = Off
